!function(e,t,i){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(n){"use strict";function o(e,t,i,o){this.id=i,this.target=e,this.tooltip=P,this.elements={target:e},this._id=V+"-"+i,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:n(),disabled:A,attr:o,onTooltip:A,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=A}function r(e){return e===P||"object"!==n.type(e)}function a(e){return!(n.isFunction(e)||e&&e.attr||e.length||"object"===n.type(e)&&(e.jquery||e.then))}function s(e){var t,i,o,s;return r(e)?A:(r(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(t=e.content,r(t)||t.jquery||t.done?t=e.content={text:i=a(t)?A:t}:i=t.text,"ajax"in t&&(o=t.ajax,s=o&&o.once!==A,delete t.ajax,t.text=function(e,t){var r=i||n(this).attr(t.options.content.attr)||"Loading...",a=n.ajax(n.extend({},o,{context:t})).then(o.success,P,o.error).then(function(e){return e&&s&&t.set("content.text",e),e},function(e,i,n){t.destroyed||0===e.status||t.set("content.text",i+": "+n)});return s?r:(t.set("content.text",r),a)}),"title"in t&&(r(t.title)||(t.button=t.title.button,t.title=t.title.text),a(t.title||A)&&(t.title=A))),"position"in e&&r(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&r(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===E?{ready:E}:{event:e.show}),"hide"in e&&r(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&r(e.style)&&(e.style={classes:e.style}),n.each($,function(){this.sanitize&&this.sanitize(e)}),e)}function l(e,t){for(var i,n=0,o=e,r=t.split(".");o=o[r[n++]];)n<r.length&&(i=o);return[i||e,r.pop()]}function c(e,t){var i,n,o;for(i in this.checks)for(n in this.checks[i])(o=new RegExp(n,"i").exec(e))&&(t.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][n].apply(this.plugins[i]||this,t))}function u(e){return X.concat("").join(e?"-"+e+" ":" ")}function d(i){return i&&{type:i.type,pageX:i.pageX,pageY:i.pageY,target:i.target,relatedTarget:i.relatedTarget,scrollX:i.scrollX||e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:i.scrollY||e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}||{}}function p(e,t){return t>0?setTimeout(n.proxy(e,this),t):(e.call(this),void 0)}function h(e){return this.tooltip.hasClass(tt)?A:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=p.call(this,function(){this.toggle(E,e)},this.options.show.delay),void 0)}function f(e){if(this.tooltip.hasClass(tt))return A;var t=n(e.relatedTarget),i=t.closest(Y)[0]===this.tooltip[0],o=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||o))try{e.preventDefault(),e.stopImmediatePropagation()}catch(r){}else this.timers.hide=p.call(this,function(){this.toggle(A,e)},this.options.hide.delay,this)}function m(e){return this.tooltip.hasClass(tt)||!this.options.hide.inactive?A:(clearTimeout(this.timers.inactive),this.timers.inactive=p.call(this,function(){this.hide(e)},this.options.hide.inactive),void 0)}function g(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function v(e,i,o){n(t.body).delegate(e,(i.split?i:i.join(lt+" "))+lt,function(){var e=S.api[n.attr(this,U)];e&&!e.disabled&&o.apply(e,arguments)})}function y(e,i,r){var a,l,c,u,d,p=n(t.body),h=e[0]===t?p:e,f=e.metadata?e.metadata(r.metadata):P,m="html5"===r.metadata.type&&f?f[r.metadata.name]:P,g=e.data(r.metadata.name||"qtipopts");try{g="string"==typeof g?n.parseJSON(g):g}catch(v){}if(u=n.extend(E,{},S.defaults,r,"object"==typeof g?s(g):P,s(m||f)),l=u.position,u.id=i,"boolean"==typeof u.content.text){if(c=e.attr(u.content.attr),u.content.attr===A||!c)return A;u.content.text=c}if(l.container.length||(l.container=p),l.target===A&&(l.target=h),u.show.target===A&&(u.show.target=h),u.show.solo===E&&(u.show.solo=l.container.closest("body")),u.hide.target===A&&(u.hide.target=h),u.position.viewport===E&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new j(l.at,E),l.my=new j(l.my),e.data(V))if(u.overwrite)e.qtip("destroy",!0);else if(u.overwrite===A)return A;return e.attr(G,i),u.suppress&&(d=e.attr("title"))&&e.removeAttr("title").attr(nt,d).attr("title",""),a=new o(e,u,i,!!c),e.data(V,a),e.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var e;(e=n(this).data(V))&&e.destroy(!0)}),a}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function x(e,t){var n,o,r=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+bt.join(r+" ")+r).split(" "),s=0;if(yt[t])return e.css(yt[t]);for(;n=a[s++];)if((o=e.css(n))!==i)return yt[t]=n,o}function w(e,t){return Math.ceil(parseFloat(x(e,t)))}function k(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.init(this.qtip=e)}function C(e,t){this.options=t,this._ns="-modal",this.init(this.qtip=e)}function T(e){this._ns="ie6",this.init(this.qtip=e)}var S,_,j,M,F,E=!0,A=!1,P=null,D="x",N="y",I="width",L="height",O="top",z="left",R="bottom",B="right",H="center",q="flipinvert",W="shift",$={},V="qtip",G="data-hasqtip",U="data-qtip-id",X=["ui-widget","ui-tooltip"],Y="."+V,K="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),Q=V+"-fixed",J=V+"-default",Z=V+"-focus",et=V+"-hover",tt=V+"-disabled",it="_replacedByqTip",nt="oldtitle",ot={ie:function(){for(var e=3,i=t.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return e>4?e:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||A};_=o.prototype,_._when=function(e){return n.when.apply(n,e)},_.render=function(e){if(this.rendered||this.destroyed)return this;var t,i=this,o=this.options,r=this.cache,a=this.elements,s=o.content.text,l=o.content.title,c=o.content.button,u=o.position,d=("."+this._id+" ",[]);return n.attr(this.target[0],"aria-describedby",this._id),this.tooltip=a.tooltip=t=n("<div/>",{id:this._id,"class":[V,J,o.style.classes,V+"-pos-"+o.position.my.abbrev()].join(" "),width:o.style.width||"",height:o.style.height||"",tracking:"mouse"===u.target&&u.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":A,"aria-describedby":this._id+"-content","aria-hidden":E}).toggleClass(tt,this.disabled).attr(U,this.id).data(V,this).appendTo(u.container).append(a.content=n("<div />",{"class":V+"-content",id:this._id+"-content","aria-atomic":E})),this.rendered=-1,this.positioning=E,l&&(this._createTitle(),n.isFunction(l)||d.push(this._updateTitle(l,A))),c&&this._createButton(),n.isFunction(s)||d.push(this._updateContent(s,A)),this.rendered=E,this._setWidget(),n.each($,function(e){var t;"render"===this.initialize&&(t=this(i))&&(i.plugins[e]=t)}),this._unassignEvents(),this._assignEvents(),this._when(d).then(function(){i._trigger("render"),i.positioning=A,i.hiddenDuringWait||!o.show.ready&&!e||i.toggle(E,r.event,A),i.hiddenDuringWait=A}),S.api[this.id]=this,this},_.destroy=function(e){function t(){if(!this.destroyed){this.destroyed=E;var e=this.target,t=e.attr(nt);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),n.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),e.removeData(V).removeAttr(U).removeAttr(G).removeAttr("aria-describedby"),this.options.suppress&&t&&e.attr("title",t).removeAttr(nt),this._unbind(e),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=P,delete S.api[this.id]}}return this.destroyed?this.target:(e===E&&"hide"!==this.triggering||!this.rendered?t.call(this):(this.tooltip.one("tooltiphidden",n.proxy(t,this)),!this.triggering&&this.hide()),this.target)},M=_.checks={builtin:{"^id$":function(e,t,i,o){var r=i===E?S.nextid:i,a=V+"-"+r;r!==A&&r.length>0&&!n("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=o},"^prerender":function(e,t,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,i){this._updateContent(i)},"^content.attr$":function(e,t,i,n){this.options.content.text===this.target.attr(n)&&this._updateContent(this.target.attr(i))},"^content.title$":function(e,t,i){return i?(i&&!this.elements.title&&this._createTitle(),this._updateTitle(i),void 0):this._removeTitle()},"^content.button$":function(e,t,i){this._updateButton(i)},"^content.title.(text|button)$":function(e,t,i){this.set("content."+t,i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(e[t]=new j(i,"at"===t))},"^position.container$":function(e,t,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(e,t,i){i&&(!this.rendered&&this.render(E)||this.toggle(E))},"^style.classes$":function(e,t,i,n){this.rendered&&this.tooltip.removeClass(n).addClass(i)},"^style.(width|height)":function(e,t,i){this.rendered&&this.tooltip.css(t,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,i){this.rendered&&this.tooltip.toggleClass(J,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,i){this.rendered&&this.tooltip[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},_.get=function(e){if(this.destroyed)return this;var t=l(this.options,e.toLowerCase()),i=t[0][t[1]];return i.precedance?i.string():i};var rt=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,at=/^prerender|show\.ready/i;_.set=function(e,t){if(this.destroyed)return this;var i,o=this.rendered,r=A,a=this.options;return this.checks,"string"==typeof e?(i=e,e={},e[i]=t):e=n.extend({},e),n.each(e,function(t,i){if(o&&at.test(t))return delete e[t],void 0;var s,c=l(a,t.toLowerCase());s=c[0][c[1]],c[0][c[1]]=i&&i.nodeType?n(i):i,r=rt.test(t)||r,e[t]=[c[0],c[1],i,s]}),s(a),this.positioning=E,n.each(e,n.proxy(c,this)),this.positioning=A,this.rendered&&this.tooltip[0].offsetWidth>0&&r&&this.reposition("mouse"===a.position.target?P:this.cache.event),this},_._update=function(e,t){var i=this,o=this.cache;return this.rendered&&e?(n.isFunction(e)&&(e=e.call(this.elements.target,o.event,this)||""),n.isFunction(e.then)?(o.waiting=E,e.then(function(e){return o.waiting=A,i._update(e,t)},P,function(e){return i._update(e,t)})):e===A||!e&&""!==e?A:(e.jquery&&e.length>0?t.empty().append(e.css({display:"block",visibility:"visible"})):t.html(e),this._waitForContent(t).then(function(e){e.images&&e.images.length&&i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(o.event,!e.length)}))):A},_._waitForContent=function(e){var t=this.cache;return t.waiting=E,(n.fn.imagesLoaded?e.imagesLoaded():n.Deferred().resolve([])).done(function(){t.waiting=A}).promise()},_._updateContent=function(e,t){this._update(e,this.elements.content,t)},_._updateTitle=function(e,t){this._update(e,this.elements.title,t)===A&&this._removeTitle(A)},_._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=n("<div />",{"class":V+"-titlebar "+(this.options.style.widget?u("header"):"")}).append(e.title=n("<div />",{id:t,"class":V+"-title","aria-atomic":E})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){n(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){n(this).toggleClass("ui-state-hover","mouseover"===e.type)}),this.options.content.button&&this._createButton()},_._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=P,e!==A&&this.reposition())},_.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=E;var r,a,s=this.cache,l=this.tooltip,c=this.options.position,u=c.target,d=c.my,p=c.at,h=c.viewport,f=c.container,m=c.adjust,g=m.method.split(" "),v=l.outerWidth(A),y=l.outerHeight(A),b=0,x=0,w=l.css("position"),k={left:0,top:0},C=l[0].offsetWidth>0,T=i&&"scroll"===i.type,S=n(e),_=f[0].ownerDocument,j=this.mouse;if(n.isArray(u)&&2===u.length)p={x:z,y:O},k={left:u[0],top:u[1]};else if("mouse"===u)p={x:z,y:O},!j||!j.pageX||!m.mouse&&i&&i.pageX?i&&i.pageX||((!m.mouse||this.options.show.distance)&&s.origin&&s.origin.pageX?i=s.origin:(!i||i&&("resize"===i.type||"scroll"===i.type))&&(i=s.event)):i=j,"static"!==w&&(k=f.offset()),_.body.offsetWidth!==(e.innerWidth||_.documentElement.clientWidth)&&(a=n(t.body).offset()),k={left:i.pageX-k.left+(a&&a.left||0),top:i.pageY-k.top+(a&&a.top||0)},m.mouse&&T&&j&&(k.left-=(j.scrollX||0)-S.scrollLeft(),k.top-=(j.scrollY||0)-S.scrollTop());else{if("event"===u?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?s.target=n(i.target):i.target||(s.target=this.elements.target):"event"!==u&&(s.target=n(u.jquery?u:this.elements.target)),u=s.target,u=n(u).eq(0),0===u.length)return this;u[0]===t||u[0]===e?(b=ot.iOS?e.innerWidth:u.width(),x=ot.iOS?e.innerHeight:u.height(),u[0]===e&&(k={top:(h||u).scrollTop(),left:(h||u).scrollLeft()})):$.imagemap&&u.is("area")?r=$.imagemap(this,u,p,$.viewport?g:A):$.svg&&u&&u[0].ownerSVGElement?r=$.svg(this,u,p,$.viewport?g:A):(b=u.outerWidth(A),x=u.outerHeight(A),k=u.offset()),r&&(b=r.width,x=r.height,a=r.offset,k=r.position),k=this.reposition.offset(u,k,f),(ot.iOS>3.1&&ot.iOS<4.1||ot.iOS>=4.3&&ot.iOS<4.33||!ot.iOS&&"fixed"===w)&&(k.left-=S.scrollLeft(),k.top-=S.scrollTop()),(!r||r&&r.adjustable!==A)&&(k.left+=p.x===B?b:p.x===H?b/2:0,k.top+=p.y===R?x:p.y===H?x/2:0)}return k.left+=m.x+(d.x===B?-v:d.x===H?-v/2:0),k.top+=m.y+(d.y===R?-y:d.y===H?-y/2:0),$.viewport?(k.adjusted=$.viewport(this,k,c,b,x,v,y),a&&k.adjusted.left&&(k.left+=a.left),a&&k.adjusted.top&&(k.top+=a.top)):k.adjusted={left:0,top:0},this._trigger("move",[k,h.elem||h],i)?(delete k.adjusted,o===A||!C||isNaN(k.left)||isNaN(k.top)||"mouse"===u||!n.isFunction(c.effect)?l.css(k):n.isFunction(c.effect)&&(c.effect.call(l,this,n.extend({},k)),l.queue(function(e){n(this).css({opacity:"",height:""}),ot.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=A,this):this},_.reposition.offset=function(e,i,o){function r(e,t){i.left+=t*e.scrollLeft(),i.top+=t*e.scrollTop()}if(!o[0])return i;var a,s,l,c,u=n(e[0].ownerDocument),d=!!ot.ie&&"CSS1Compat"!==t.compatMode,p=o[0];do"static"!==(s=n.css(p,"position"))&&("fixed"===s?(l=p.getBoundingClientRect(),r(u,-1)):(l=n(p).position(),l.left+=parseFloat(n.css(p,"borderLeftWidth"))||0,l.top+=parseFloat(n.css(p,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(n.css(p,"marginLeft"))||0),i.top-=l.top+(parseFloat(n.css(p,"marginTop"))||0),a||"hidden"===(c=n.css(p,"overflow"))||"visible"===c||(a=n(p)));while(p=p.offsetParent);return a&&(a[0]!==u[0]||d)&&r(a,1),i};var st=(j=_.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,H).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var i=e.charAt(0);this.precedance="t"===i||"b"===i?N:D}).prototype;st.invert=function(e,t){this[e]=this[e]===z?B:this[e]===B?z:t||this[e]},st.string=function(){var e=this.x,t=this.y;return e===t?e:this.precedance===N||this.forceY&&"center"!==t?t+" "+e:e+" "+t},st.abbrev=function(){var e=this.string().split(" ");return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},st.clone=function(){return new j(this.string(),this.forceY)},_.toggle=function(e,i){var o=this.cache,r=this.options,a=this.tooltip;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(o.event.type)&&r.show.target.add(i.target).length===r.show.target.length&&a.has(i.relatedTarget).length)return this;o.event=d(i)}if(this.waiting&&!e&&(this.hiddenDuringWait=E),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var s,l,c,u=e?"show":"hide",p=this.options[u],h=(this.options[e?"hide":"show"],this.options.position),f=this.options.content,m=this.tooltip.css("width"),g=this.tooltip.is(":visible"),v=e||1===p.target.length,y=!i||p.target.length<2||o.target[0]===i.target;return(typeof e).search("boolean|number")&&(e=!g),s=!a.is(":animated")&&g===e&&y,l=s?P:!!this._trigger(u,[90]),this.destroyed?this:(l!==A&&e&&this.focus(i),!l||s?this:(n.attr(a[0],"aria-hidden",!e),e?(o.origin=d(this.mouse),n.isFunction(f.text)&&this._updateContent(f.text,A),n.isFunction(f.title)&&this._updateTitle(f.title,A),!F&&"mouse"===h.target&&h.adjust.mouse&&(n(t).bind("mousemove."+V,this._storeMouse),F=E),m||a.css("width",a.outerWidth(A)),this.reposition(i,arguments[2]),m||a.css("width",""),p.solo&&("string"==typeof p.solo?n(p.solo):n(Y,p.solo)).not(a).not(p.target).qtip("hide",n.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,F&&!n(Y+'[tracking="true"]:visible',p.solo).not(a).length&&(n(t).unbind("mousemove."+V),F=A),this.blur(i)),c=n.proxy(function(){e?(ot.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof p.autofocus&&n(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),p.effect===A||v===A?(a[u](),c()):n.isFunction(p.effect)?(a.stop(1,1),p.effect.call(a,this),a.queue("fx",function(e){c(),e()})):a.fadeTo(90,e?1:0,c),e&&p.target.trigger("qtip-"+this.id+"-inactive"),this))},_.show=function(e){return this.toggle(E,e)},_.hide=function(e){return this.toggle(A,e)},_.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=n(Y),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),r=S.zindex+t.length;return i.hasClass(Z)||this._trigger("focus",[r],e)&&(o!==r&&(t.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+Z).qtip("blur",e)),i.addClass(Z)[0].style.zIndex=r),this},_.blur=function(e){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(Z),this._trigger("blur",[this.tooltip.css("zIndex")],e),this)},_.disable=function(e){return this.destroyed?this:("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(tt):this.disabled):"boolean"!=typeof e&&(e=E),this.rendered&&this.tooltip.toggleClass(tt,e).attr("aria-disabled",e),this.disabled=!!e,this)},_.enable=function(){return this.disable(A)},_._createButton=function(){var e=this,t=this.elements,i=t.tooltip,o=this.options.content.button,r="string"==typeof o,a=r?o:"Close tooltip";t.button&&t.button.remove(),t.button=o.jquery?o:n("<a />",{"class":"qtip-close "+(this.options.style.widget?"":V+"-icon"),title:a,"aria-label":a}).prepend(n("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||i).attr("role","button").click(function(t){return i.hasClass(tt)||e.hide(t),A})},_._updateButton=function(e){if(!this.rendered)return A;var t=this.elements.button;e?this._createButton():t.remove()},_._setWidget=function(){var e=this.options.style.widget,t=this.elements,i=t.tooltip,n=i.hasClass(tt);i.removeClass(tt),tt=e?"ui-state-disabled":"qtip-disabled",i.toggleClass(tt,n),i.toggleClass("ui-helper-reset "+u(),e).toggleClass(J,this.options.style.def&&!e),t.content&&t.content.toggleClass(u("content"),e),t.titlebar&&t.titlebar.toggleClass(u("header"),e),t.button&&t.button.toggleClass(V+"-icon",!e)},_._storeMouse=function(e){(this.mouse=d(e)).type="mousemove"},_._bind=function(e,t,i,o,r){var a="."+this._id+(o?"-"+o:"");t.length&&n(e).bind((t.split?t:t.join(a+" "))+a,n.proxy(i,r||this))},_._unbind=function(e,t){n(e).unbind("."+this._id+(t?"-"+t:""))};var lt="."+V;n(function(){v(Y,["mouseenter","mouseleave"],function(e){var t="mouseenter"===e.type,i=n(e.currentTarget),o=n(e.relatedTarget||e.target),r=this.options;t?(this.focus(e),i.hasClass(Q)&&!i.hasClass(tt)&&clearTimeout(this.timers.hide)):"mouse"===r.position.target&&r.hide.event&&r.show.target&&!o.closest(r.show.target[0]).length&&this.hide(e),i.toggleClass(et,t)}),v("["+U+"]",K,m)}),_._trigger=function(e,t,i){var o=n.Event("tooltip"+e);return o.originalEvent=i&&n.extend({},i)||this.cache.event||P,this.triggering=e,this.tooltip.trigger(o,[this].concat(t||[])),this.triggering=A,!o.isDefaultPrevented()},_._bindEvents=function(e,t,i,o,r,a){if(o.add(i).length===o.length){var s=[];t=n.map(t,function(t){var i=n.inArray(t,e);return i>-1?(s.push(e.splice(i,1)[0]),void 0):t}),s.length&&this._bind(i,s,function(e){var t=this.rendered?this.tooltip[0].offsetWidth>0:!1;(t?a:r).call(this,e)})}this._bind(i,e,r),this._bind(o,t,a)},_._assignInitialEvents=function(e){function t(e){return this.disabled||this.destroyed?A:(this.cache.event=d(e),this.cache.target=e?n(e.target):[i],clearTimeout(this.timers.show),this.timers.show=p.call(this,function(){this.render("object"==typeof e||o.show.ready)},o.show.delay),void 0)}var o=this.options,r=o.show.target,a=o.hide.target,s=o.show.event?n.trim(""+o.show.event).split(" "):[],l=o.hide.event?n.trim(""+o.hide.event).split(" "):[];/mouse(over|enter)/i.test(o.show.event)&&!/mouse(out|leave)/i.test(o.hide.event)&&l.push("mouseleave"),this._bind(r,"mousemove",function(e){this._storeMouse(e),this.cache.onTarget=E}),this._bindEvents(s,l,r,a,t,function(){clearTimeout(this.timers.show)}),(o.show.ready||o.prerender)&&t.call(this,e)},_._assignEvents=function(){var i=this,o=this.options,r=o.position,a=this.tooltip,s=o.show.target,l=o.hide.target,c=r.container,u=r.viewport,d=n(t),p=(n(t.body),n(e)),v=o.show.event?n.trim(""+o.show.event).split(" "):[],y=o.hide.event?n.trim(""+o.hide.event).split(" "):[];n.each(o.events,function(e,t){i._bind(a,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,a)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(d,["mouseout","blur"],function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)}),o.hide.fixed?l=l.add(a.addClass(Q)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(e){var t=n(e.target),i=this.rendered&&!this.tooltip.hasClass(tt)&&this.tooltip[0].offsetWidth>0,o=t.parents(Y).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||o||this.target.has(t[0]).length||!i||this.hide(e)}),"number"==typeof o.hide.inactive&&(this._bind(s,"qtip-"+this.id+"-inactive",m),this._bind(l.add(a),S.inactiveEvents,m,"-inactive")),this._bindEvents(v,y,s,l,h,f),this._bind(s.add(a),"mousemove",function(e){if("number"==typeof o.hide.distance){var t=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(e.pageX-t.pageX)>=i||n(e.pageY-t.pageY)>=i)&&this.hide(e)}this._storeMouse(e)}),"mouse"===r.target&&r.adjust.mouse&&(o.hide.event&&this._bind(s,["mouseenter","mouseleave"],function(e){this.cache.onTarget="mouseenter"===e.type}),this._bind(d,"mousemove",function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(tt)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)})),(r.adjust.resize||u.length)&&this._bind(n.event.special.resize?u:p,"resize",g),r.adjust.scroll&&this._bind(p.add(r.container),"scroll",g)},_._unassignEvents=function(){var i=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],e,t];this._unbind(n([]).pushStack(n.grep(i,function(e){return"object"==typeof e})))},S=n.fn.qtip=function(e,t,o){var r=(""+e).toLowerCase(),a=P,l=n.makeArray(arguments).slice(1),c=l[l.length-1],u=this[0]?n.data(this[0],V):P;return!arguments.length&&u||"api"===r?u:"string"==typeof e?(this.each(function(){var e=n.data(this,V);if(!e)return E;if(c&&c.timeStamp&&(e.cache.event=c),!t||"option"!==r&&"options"!==r)e[r]&&e[r].apply(e,l);else{if(o===i&&!n.isPlainObject(t))return a=e.get(t),A;e.set(t,o)}}),a!==P?a:this):"object"!=typeof e&&arguments.length?void 0:(u=s(n.extend(E,{},e)),this.each(function(e){var t,i;return i=n.isArray(u.id)?u.id[e]:u.id,i=!i||i===A||i.length<1||S.api[i]?S.nextid++:i,t=y(n(this),i,u),t===A?E:(S.api[i]=t,n.each($,function(){"initialize"===this.initialize&&this(t)}),t._assignInitialEvents(c),void 0)}))},n.qtip=o,S.api={},n.each({attr:function(e,t){if(this.length){var i=this[0],o="title",r=n.data(i,"qtip");if(e===o&&r&&"object"==typeof r&&r.options.suppress)return arguments.length<2?n.attr(i,nt):(r&&r.options.content.attr===o&&r.cache.attr&&r.set("content.text",t),this.attr(nt,t))}return n.fn["attr"+it].apply(this,arguments)},clone:function(e){var t=(n([]),n.fn["clone"+it].apply(this,arguments));return e||t.filter("["+nt+"]").attr("title",function(){return n.attr(this,nt)}).removeAttr(nt),t}},function(e,t){if(!t||n.fn[e+it])return E;var i=n.fn[e+it]=n.fn[e];n.fn[e]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}}),n.ui||(n["cleanData"+it]=n.cleanData,n.cleanData=function(e){for(var t,i=0;(t=n(e[i])).length;i++)if(t.attr(G))try{t.triggerHandler("removeqtip")}catch(o){}n["cleanData"+it].apply(this,arguments)}),S.version="2.2.0",S.nextid=0,S.inactiveEvents=K,S.zindex=15e3,S.defaults={prerender:A,id:A,overwrite:E,suppress:E,content:{text:E,attr:"title",title:A,button:A},position:{my:"top left",at:"bottom right",target:A,container:A,viewport:A,adjust:{x:0,y:0,mouse:E,scroll:E,resize:E,method:"flipinvert flipinvert"},effect:function(e,t){n(this).animate(t,{duration:200,queue:A})}},show:{target:A,event:"mouseenter",effect:E,delay:90,solo:A,ready:A,autofocus:A},hide:{target:A,event:"mouseleave",effect:E,delay:0,fixed:A,inactive:A,leave:"window",distance:A},style:{classes:"",widget:A,width:A,height:A,def:E},events:{render:P,move:P,show:P,hide:P,toggle:P,visible:P,hidden:P,focus:P,blur:P}};var ct,ut="margin",dt="border",pt="color",ht="background-color",ft="transparent",mt=" !important",gt=!!t.createElement("canvas").getContext,vt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,yt={},bt=["Webkit","O","Moz","ms"];if(gt)var xt=e.devicePixelRatio||1,wt=function(){var e=t.createElement("canvas").getContext("2d");return e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1}(),kt=xt/wt;else var Ct=function(e,t,i){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'};n.extend(k.prototype,{init:function(e){var t,i;i=this.element=e.elements.tip=n("<div />",{"class":V+"-tip"}).prependTo(e.tooltip),gt?(t=n("<canvas />").appendTo(this.element)[0].getContext("2d"),t.lineJoin="miter",t.miterLimit=1e5,t.save()):(t=Ct("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(n("*",i).add(i),["click","mousedown"],function(e){e.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===O||e.y===H&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(E))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===A||t===A?e=A:e===E?e=new j(t.string()):e.string||(e=new j(e),e.fixed=E),e},_parseWidth:function(e,t,i){var n=this.qtip.elements,o=dt+b(t)+"Width";return(i?w(i,o):w(n.content,o)||w(this._useTitle(e)&&n.titlebar||n.content,o)||w(n.tooltip,o))||0},_parseRadius:function(e){var t=this.qtip.elements,i=dt+b(e.y)+b(e.x)+"Radius";return ot.ie<9?0:w(this._useTitle(e)&&t.titlebar||t.content,i)||w(t.tooltip,i)||0},_invalidColour:function(e,t,i){var n=e.css(t);return!n||i&&n===e.css(i)||vt.test(n)?A:n},_parseColours:function(e){var t=this.qtip.elements,i=this.element.css("cssText",""),o=dt+b(e[e.precedance])+b(pt),r=this._useTitle(e)&&t.titlebar||t.content,a=this._invalidColour,s=[];return s[0]=a(i,ht)||a(r,ht)||a(t.content,ht)||a(t.tooltip,ht)||i.css(ht),s[1]=a(i,o,pt)||a(r,o,pt)||a(t.content,o,pt)||a(t.tooltip,o,pt)||t.tooltip.css(o),n("*",i).add(i).css("cssText",ht+":"+ft+mt+";"+dt+":0"+mt+";"),s},_calculateSize:function(e){var t,i,n,o=e.precedance===N,r=this.options.width,a=this.options.height,s="c"===e.abbrev(),l=(o?r:a)*(s?.5:1),c=Math.pow,u=Math.round,d=Math.sqrt(c(l,2)+c(a,2)),p=[this.border/l*d,this.border/a*d];return p[2]=Math.sqrt(c(p[0],2)-c(this.border,2)),p[3]=Math.sqrt(c(p[1],2)-c(this.border,2)),t=d+p[2]+p[3]+(s?0:p[0]),i=t/d,n=[u(i*r),u(i*a)],o?n:n.reverse()},_calculateTip:function(e,t,i){i=i||1,t=t||this.size;var n=t[0]*i,o=t[1]*i,r=Math.ceil(n/2),a=Math.ceil(o/2),s={br:[0,0,n,o,n,0],bl:[0,0,n,0,0,o],tr:[0,o,n,0,n,o],tl:[0,0,0,o,n,o],tc:[0,o,r,0,n,o],bc:[0,0,n,0,r,o],rc:[0,0,n,a,0,o],lc:[n,0,n,o,0,a]};return s.lt=s.br,s.rt=s.bl,s.lb=s.tr,s.rb=s.tl,s[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(gt||ot.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,i){if(!this.enabled)return this;var o,r,a,s,l,c,u,d,p=this.qtip.elements,h=this.element,f=h.children(),m=this.options,g=this.size,v=m.mimic,y=Math.round;t||(t=this.qtip.cache.corner||this.corner),v===A?v=t:(v=new j(v),v.precedance=t.precedance,"inherit"===v.x?v.x=t.x:"inherit"===v.y?v.y=t.y:v.x===v.y&&(v[t.precedance]=t[t.precedance])),r=v.precedance,t.precedance===D?this._swapDimensions():this._resetDimensions(),o=this.color=this._parseColours(t),o[1]!==ft?(d=this.border=this._parseWidth(t,t[t.precedance]),m.border&&1>d&&!vt.test(o[1])&&(o[0]=o[1]),this.border=d=m.border!==E?m.border:d):this.border=d=0,u=this.size=this._calculateSize(t),h.css({width:u[0],height:u[1],lineHeight:u[1]+"px"}),c=t.precedance===N?[y(v.x===z?d:v.x===B?u[0]-g[0]-d:(u[0]-g[0])/2),y(v.y===O?u[1]-g[1]:0)]:[y(v.x===z?u[0]-g[0]:0),y(v.y===O?d:v.y===R?u[1]-g[1]-d:(u[1]-g[1])/2)],gt?(a=f[0].getContext("2d"),a.restore(),a.save(),a.clearRect(0,0,6e3,6e3),s=this._calculateTip(v,g,kt),l=this._calculateTip(v,this.size,kt),f.attr(I,u[0]*kt).attr(L,u[1]*kt),f.css(I,u[0]).css(L,u[1]),this._drawCoords(a,l),a.fillStyle=o[1],a.fill(),a.translate(c[0]*kt,c[1]*kt),this._drawCoords(a,s),a.fillStyle=o[0],a.fill()):(s=this._calculateTip(v),s="m"+s[0]+","+s[1]+" l"+s[2]+","+s[3]+" "+s[4]+","+s[5]+" xe",c[2]=d&&/^(r|b)/i.test(t.string())?8===ot.ie?2:1:0,f.css({coordsize:u[0]+d+" "+(u[1]+d),antialias:""+(v.string().indexOf(H)>-1),left:c[0]-c[2]*Number(r===D),top:c[1]-c[2]*Number(r===N),width:u[0]+d,height:u[1]+d}).each(function(e){var t=n(this);t[t.prop?"prop":"attr"]({coordsize:u[0]+d+" "+(u[1]+d),path:s,fillcolor:o[0],filled:!!e,stroked:!e}).toggle(!(!d&&!e)),!e&&t.html(Ct("stroke",'weight="'+2*d+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))})),e.opera&&setTimeout(function(){p.tip.css({display:"inline-block",visibility:"visible"})},1),i!==A&&this.calculate(t,u)},calculate:function(e,t){if(!this.enabled)return A;var i,o,r=this,a=this.qtip.elements,s=this.element,l=this.options.offset,c=(a.tooltip.hasClass("ui-widget"),{});return e=e||this.corner,i=e.precedance,t=t||this._calculateSize(e),o=[e.x,e.y],i===D&&o.reverse(),n.each(o,function(n,o){var s,u,d;o===H?(s=i===N?z:O,c[s]="50%",c[ut+"-"+s]=-Math.round(t[i===N?0:1]/2)+l):(s=r._parseWidth(e,o,a.tooltip),u=r._parseWidth(e,o,a.content),d=r._parseRadius(e),c[o]=Math.max(-r.border,n?u:l+(d>s?d:-s)))
}),c[e[i]]-=t[i===D?0:1],s.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(e,t,n){function o(e,t,i,n,o){e===W&&c.precedance===t&&u[n]&&c[i]!==H?c.precedance=c.precedance===D?N:D:e!==W&&u[n]&&(c[t]=c[t]===H?u[n]>0?n:o:c[t]===n?o:n)}function r(e,t,o){c[e]===H?m[ut+"-"+t]=f[e]=a[ut+"-"+t]-u[t]:(s=a[o]!==i?[u[t],-a[t]]:[-u[t],a[t]],(f[e]=Math.max(s[0],s[1]))>s[0]&&(n[t]-=u[t],f[t]=A),m[a[o]!==i?o:t]=f[e])}if(this.enabled){var a,s,l=t.cache,c=this.corner.clone(),u=n.adjusted,d=t.options.position.adjust.method.split(" "),p=d[0],h=d[1]||d[0],f={left:A,top:A,x:0,y:0},m={};this.corner.fixed!==E&&(o(p,D,N,z,B),o(h,N,D,O,R),c.string()===l.corner.string()||l.cornerTop===u.top&&l.cornerLeft===u.left||this.update(c,A)),a=this.calculate(c),a.right!==i&&(a.left=-a.right),a.bottom!==i&&(a.top=-a.bottom),a.user=this.offset,(f.left=p===W&&!!u.left)&&r(D,z,B),(f.top=h===W&&!!u.top)&&r(N,O,R),this.element.css(m).toggle(!(f.x&&f.y||c.x===H&&f.y||c.y===H&&f.x)),n.left-=a.left.charAt?a.user:p!==W||f.top||!f.left&&!f.top?a.left+this.border:0,n.top-=a.top.charAt?a.user:h!==W||f.left||!f.left&&!f.top?a.top+this.border:0,l.cornerLeft=u.left,l.cornerTop=u.top,l.corner=c.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),ct=$.tip=function(e){return new k(e,e.options.style.tip)},ct.initialize="render",ct.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=E)}},M.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},n.extend(E,S.defaults,{style:{tip:{corner:E,mimic:A,width:6,height:6,border:E,offset:0}}});var Tt,St,_t="qtip-modal",jt="."+_t;St=function(){function e(e){if(n.expr[":"].focusable)return n.expr[":"].focusable;var t,i,o,r=!isNaN(n.attr(e,"tabindex")),a=e.nodeName&&e.nodeName.toLowerCase();return"area"===a?(t=e.parentNode,i=t.name,e.href&&i&&"map"===t.nodeName.toLowerCase()?(o=n("img[usemap=#"+i+"]")[0],!!o&&o.is(":visible")):!1):/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||r:r}function i(e){u.length<1&&e.length?e.not("body").blur():u.first().focus()}function o(e){if(l.is(":visible")){var t,o=n(e.target),s=r.tooltip,c=o.closest(Y);t=c.length<1?A:parseInt(c[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10),t||o.closest(Y)[0]===s[0]||i(o),a=e.target===u[u.length-1]}}var r,a,s,l,c=this,u={};n.extend(c,{init:function(){return l=c.elem=n("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return A}}).hide(),n(t.body).bind("focusin"+jt,o),n(t).bind("keydown"+jt,function(e){r&&r.options.show.modal.escape&&27===e.keyCode&&r.hide(e)}),l.bind("click"+jt,function(e){r&&r.options.show.modal.blur&&r.hide(e)}),c},update:function(t){r=t,u=t.options.show.modal.stealfocus!==A?t.tooltip.find("*").filter(function(){return e(this)}):[]},toggle:function(e,o,a){var u=(n(t.body),e.tooltip),d=e.options.show.modal,p=d.effect,h=o?"show":"hide",f=l.is(":visible"),m=n(jt).filter(":visible:not(:animated)").not(u);return c.update(e),o&&d.stealfocus!==A&&i(n(":focus")),l.toggleClass("blurs",d.blur),o&&l.appendTo(t.body),l.is(":animated")&&f===o&&s!==A||!o&&m.length?c:(l.stop(E,A),n.isFunction(p)?p.call(l,o):p===A?l[h]():l.fadeTo(parseInt(a,10)||90,o?1:0,function(){o||l.hide()}),o||l.queue(function(e){l.css({left:"",top:""}),n(jt).length||l.detach(),e()}),s=o,r.destroyed&&(r=P),c)}}),c.init()},St=new St,n.extend(C.prototype,{init:function(e){var t=e.tooltip;return this.options.on?(e.elements.overlay=St.elem,t.addClass(_t).css("z-index",S.modal_zindex+n(jt).length),e._bind(t,["tooltipshow","tooltiphide"],function(e,i,o){var r=e.originalEvent;if(e.target===t[0])if(r&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(r.type)&&n(r.relatedTarget).closest(St.elem[0]).length)try{e.preventDefault()}catch(a){}else(!r||r&&"tooltipsolo"!==r.type)&&this.toggle(e,"tooltipshow"===e.type,o)},this._ns,this),e._bind(t,"tooltipfocus",function(e,i){if(!e.isDefaultPrevented()&&e.target===t[0]){var o=n(jt),r=S.modal_zindex+o.length,a=parseInt(t[0].style.zIndex,10);St.elem[0].style.zIndex=r-1,o.each(function(){this.style.zIndex>a&&(this.style.zIndex-=1)}),o.filter("."+Z).qtip("blur",e.originalEvent),t.addClass(Z)[0].style.zIndex=r,St.update(i);try{e.preventDefault()}catch(s){}}},this._ns,this),e._bind(t,"tooltiphide",function(e){e.target===t[0]&&n(jt).filter(":visible").not(t).last().qtip("focus",e)},this._ns,this),void 0):this},toggle:function(e,t,i){return e&&e.isDefaultPrevented()?this:(St.toggle(this.qtip,!!t,i),void 0)},destroy:function(){this.qtip.tooltip.removeClass(_t),this.qtip._unbind(this.qtip.tooltip,this._ns),St.toggle(this.qtip,A),delete this.qtip.elements.overlay}}),Tt=$.modal=function(e){return new C(e,e.options.show.modal)},Tt.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:"undefined"==typeof e.show.modal.on&&(e.show.modal.on=E))},S.modal_zindex=S.zindex-200,Tt.initialize="render",M.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},n.extend(E,S.defaults,{show:{modal:{on:A,effect:E,blur:E,stealfocus:E,escape:E}}}),$.viewport=function(i,n,o,r,a,s,l){function c(e,t,i,o,r,a,s,l,c){var u=n[r],p=w[e],b=k[e],x=i===W,C=p===r?c:p===a?-c:-c/2,T=b===r?l:b===a?-l:-l/2,S=v[r]+y[r]-(f?0:h[r]),_=S-u,j=u+c-(s===I?m:g)-S,M=C-(w.precedance===e||p===w[t]?T:0)-(b===H?l/2:0);return x?(M=(p===r?1:-1)*C,n[r]+=_>0?_:j>0?-j:0,n[r]=Math.max(-h[r]+y[r],u-M,Math.min(Math.max(-h[r]+y[r]+(s===I?m:g),u+M),n[r],"center"===p?u-C:1e9))):(o*=i===q?2:0,_>0&&(p!==r||j>0)?(n[r]-=M+o,d.invert(e,r)):j>0&&(p!==a||_>0)&&(n[r]-=(p===H?-M:M)+o,d.invert(e,a)),n[r]<v&&-n[r]>j&&(n[r]=u,d=w.clone())),n[r]-u}var u,d,p,h,f,m,g,v,y,b=o.target,x=i.elements.tooltip,w=o.my,k=o.at,C=o.adjust,T=C.method.split(" "),S=T[0],_=T[1]||T[0],j=o.viewport,M=o.container,F=i.cache,E={left:0,top:0};return j.jquery&&b[0]!==e&&b[0]!==t.body&&"none"!==C.method?(h=M.offset()||E,f="static"===M.css("position"),u="fixed"===x.css("position"),m=j[0]===e?j.width():j.outerWidth(A),g=j[0]===e?j.height():j.outerHeight(A),v={left:u?0:j.scrollLeft(),top:u?0:j.scrollTop()},y=j.offset()||E,("shift"!==S||"shift"!==_)&&(d=w.clone()),E={left:"none"!==S?c(D,N,S,C.x,z,B,I,r,s):0,top:"none"!==_?c(N,D,_,C.y,O,R,L,a,l):0},d&&F.lastClass!==(p=V+"-pos-"+d.abbrev())&&x.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=p),E):E},$.polys={polygon:function(e,t){var i,n,o,r={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:A},a=0,s=[],l=1,c=1,u=0,d=0;for(a=e.length;a--;)i=[parseInt(e[--a],10),parseInt(e[a+1],10)],i[0]>r.position.right&&(r.position.right=i[0]),i[0]<r.position.left&&(r.position.left=i[0]),i[1]>r.position.bottom&&(r.position.bottom=i[1]),i[1]<r.position.top&&(r.position.top=i[1]),s.push(i);if(n=r.width=Math.abs(r.position.right-r.position.left),o=r.height=Math.abs(r.position.bottom-r.position.top),"c"===t.abbrev())r.position={left:r.position.left+r.width/2,top:r.position.top+r.height/2};else{for(;n>0&&o>0&&l>0&&c>0;)for(n=Math.floor(n/2),o=Math.floor(o/2),t.x===z?l=n:t.x===B?l=r.width-n:l+=Math.floor(n/2),t.y===O?c=o:t.y===R?c=r.height-o:c+=Math.floor(o/2),a=s.length;a--&&!(s.length<2);)u=s[a][0]-r.position.left,d=s[a][1]-r.position.top,(t.x===z&&u>=l||t.x===B&&l>=u||t.x===H&&(l>u||u>r.width-l)||t.y===O&&d>=c||t.y===R&&c>=d||t.y===H&&(c>d||d>r.height-c))&&s.splice(a,1);r.position={left:s[0][0],top:s[0][1]}}return r},rect:function(e,t,i,n){return{width:Math.abs(i-e),height:Math.abs(n-t),position:{left:Math.min(e,i),top:Math.min(t,n)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,i,n,o){var r=$.polys._angles[o.abbrev()],a=0===r?0:i*Math.cos(r*Math.PI),s=n*Math.sin(r*Math.PI);return{width:2*i-Math.abs(a),height:2*n-Math.abs(s),position:{left:e+a,top:t+s},adjustable:A}},circle:function(e,t,i,n){return $.polys.ellipse(e,t,i,i,n)}},$.svg=function(e,i,o){for(var r,a,s,l,c,u,d,p,h,f,m,g=n(t),v=i[0],y=n(v.ownerSVGElement),b=1,x=1,w=!0;!v.getBBox;)v=v.parentNode;if(!v.getBBox||!v.parentNode)return A;r=y.attr("width")||y.width()||parseInt(y.css("width"),10),a=y.attr("height")||y.height()||parseInt(y.css("height"),10);var k=(parseInt(i.css("stroke-width"),10)||0)/2;switch(k&&(b+=k/r,x+=k/a),v.nodeName){case"ellipse":case"circle":f=$.polys.ellipse(v.cx.baseVal.value,v.cy.baseVal.value,(v.rx||v.r).baseVal.value+k,(v.ry||v.r).baseVal.value+k,o);break;case"line":case"polygon":case"polyline":for(h=v.points||[{x:v.x1.baseVal.value,y:v.y1.baseVal.value},{x:v.x2.baseVal.value,y:v.y2.baseVal.value}],f=[],p=-1,u=h.numberOfItems||h.length;++p<u;)d=h.getItem?h.getItem(p):h[p],f.push.apply(f,[d.x,d.y]);f=$.polys.polygon(f,o);break;default:f=v.getBoundingClientRect(),f={width:f.width,height:f.height,position:{left:f.left,top:f.top}},w=!1}return m=f.position,y=y[0],w&&(y.createSVGPoint&&(s=v.getScreenCTM(),h=y.createSVGPoint(),h.x=m.left,h.y=m.top,l=h.matrixTransform(s),m.left=l.x,m.top=l.y),y.viewBox&&(c=y.viewBox.baseVal)&&c.width&&c.height&&(b*=r/c.width,x*=a/c.height)),m.left+=g.scrollLeft(),m.top+=g.scrollTop(),f},$.imagemap=function(e,t,i){t.jquery||(t=n(t));var o,r,a,s,l,c=t.attr("shape").toLowerCase().replace("poly","polygon"),u=n('img[usemap="#'+t.parent("map").attr("name")+'"]'),d=n.trim(t.attr("coords")),p=d.replace(/,$/,"").split(",");if(!u.length)return A;if("polygon"===c)s=$.polys.polygon(p,i);else{if(!$.polys[c])return A;for(a=-1,l=p.length,r=[];++a<l;)r.push(parseInt(p[a],10));s=$.polys[c].apply(this,r.concat(i))}return o=u.offset(),o.left+=Math.ceil((u.outerWidth(A)-u.width())/2),o.top+=Math.ceil((u.outerHeight(A)-u.height())/2),s.position.left+=o.left,s.position.top+=o.top,s};var Mt,Ft='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';n.extend(T.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=n(e).scrollTop()+"px")},init:function(i){var o=i.tooltip;n("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=n(Ft).appendTo(o),i._bind(o,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=n("<div/>",{id:V+"-rcontainer"}).appendTo(t.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(e,["scroll","resize"],this._scroll,this._ns,this),i._bind(o,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var e,t,i=this.qtip.tooltip,n={height:i.outerHeight(A),width:i.outerWidth(A)},o=this.qtip.plugins.tip,r=this.qtip.elements.tip;t=parseInt(i.css("borderLeftWidth"),10)||0,t={left:-t,top:-t},o&&r&&(e="x"===o.corner.precedance?[I,z]:[L,O],t[e[1]]-=r[e[0]]()),this.bgiframe.css(t).css(n)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var e,t,i,n,o=this.qtip.tooltip,r=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,r.height&&o.css(L,r.height),r.width?o.css(I,r.width):(o.css(I,"").appendTo(this.redrawContainer),t=o.width(),1>t%2&&(t+=1),i=o.css("maxWidth")||"",n=o.css("minWidth")||"",e=(i+n).indexOf("%")>-1?a.width()/100:0,i=(i.indexOf("%")>-1?e:1)*parseInt(i,10)||t,n=(n.indexOf("%")>-1?e:1)*parseInt(n,10)||0,t=i+n?Math.min(Math.max(t,n),i):t,o.css(I,Math.round(t)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([e,this.qtip.tooltip],this._ns)}}),Mt=$.ie6=function(e){return 6===ot.ie?new T(e):A},Mt.initialize="render",M.ie6={"^content|style$":function(){this.redraw()}}})}(window,document);